{% load static %}
{% load django_browser_reload %}

<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}LitReview - Application de critiques de livres{% endblock %}</title>
    {# Ajout d'un cache-buster en dev pour Ã©viter le cache navigateur #}
    {% if debug %}
    <link rel="stylesheet" href="{% static 'reviews/css/styles.css' %}?v={% now 'U' %}">
    <link rel="stylesheet" href="{% static 'reviews/css/barNav.css' %}?v={% now 'U' %}">
    <link rel="stylesheet" href="{% static 'reviews/css/messages.css' %}?v={% now 'U' %}">
    {% else %}
    <link rel="stylesheet" href="{% static 'reviews/css/styles.css' %}">
    <link rel="stylesheet" href="{% static 'reviews/css/barNav.css' %}">
    <link rel="stylesheet" href="{% static 'reviews/css/messages.css' %}">
    {% endif %}
    {% block extra_css %}{% endblock %}
</head>

<body class="container">

    <header>
        {% include 'reviews/barNav.html' %}
    </header>
    <main>
        {% block page_heading %}{% endblock %}
        {% if messages %}
        <ul class="messages">
            {% for message in messages %}
            <li class="message {{ message.tags }}" role="alert" data-timeout="4000">
                <span class="message-text">{{ message }}</span>
                <button type="button" class="message-close" aria-label="Fermer">&times;</button>
            </li>
            {% endfor %}
        </ul>
        {% endif %}
        {% block content %}
        {% endblock %}
    </main>
    <script src="https://cdn.jsdelivr.net/npm/iconify-icon@2.1.0/dist/iconify-icon.min.js"></script>
    <script src="{% static 'reviews/js/flash_messages.js' %}"></script>
    {% django_browser_reload_script %}
</body>

</html>